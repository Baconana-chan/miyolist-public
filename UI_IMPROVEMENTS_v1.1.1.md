# UI Improvements - v1.1.1

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –∞–Ω–∏–º–µ/–º–∞–Ω–≥–∏ üìê

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–∞–π—Ç–ª–æ–≤ –±—ã–ª–∏ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–º–∏ (–≤—Å–µ–≥–æ 2 –≤ —Ä—è–¥), —á—Ç–æ –≤—ã–≥–ª—è–¥–µ–ª–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ:**
- –ò–∑–º–µ–Ω—ë–Ω `GridView` —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é —Å–µ—Ç–∫—É
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `SliverGridDelegateWithMaxCrossAxisExtent` –≤–º–µ—Å—Ç–æ `SliverGridDelegateWithFixedCrossAxisCount`
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏: 200px (~6 –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–∞ Full HD 1920px)
- –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω: 0.67 (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—É –ø–æ—Å—Ç–µ—Ä–æ–≤ 460x690)

**–§–∞–π–ª—ã:**
- `lib/features/anime_list/presentation/pages/anime_list_page.dart`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–î–æ:  2 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Ä—è–¥ (—Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ)
–ü–æ—Å–ª–µ: ~6-7 –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ —Ä—è–¥ –Ω–∞ Full HD (–∫–∞–∫ –Ω–∞ AniList)
```

---

### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö üì±

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –í –ø—Ä–æ—Ñ–∏–ª–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–º —Å–ø–∏—Å–∫–æ–º
- –ú–∞–∫—Å–∏–º—É–º –≤–∏–¥–Ω–æ 12 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ï—Å–ª–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –±–æ–ª—å—à–µ, –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å–∫—Ä—ã—Ç–æ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "View All (N)" –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–æ–ª—å—à–µ 12
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Å–µ—Ç–∫–æ–π
- –í –¥–∏–∞–ª–æ–≥–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–º 150px, –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 12 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–§–∞–π–ª—ã:**
- `lib/features/profile/presentation/pages/profile_page.dart`

**–ö–æ–¥:**
```dart
if (nodes.length > 12)
  TextButton(
    onPressed: () => _showAllFavorites(title, nodes),
    child: Text('View All (${nodes.length})'),
  ),
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Favorite Anime (250) ‚Üí View All button ‚Üí –¥–∏–∞–ª–æ–≥ —Å –ø–æ–ª–Ω–æ–π —Å–µ—Ç–∫–æ–π
- ‚úÖ Favorite Characters (187) ‚Üí View All button ‚Üí –¥–∏–∞–ª–æ–≥ —Å –ø–æ–ª–Ω–æ–π —Å–µ—Ç–∫–æ–π
- ‚úÖ –ú–µ–Ω—å—à–µ 12 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Üí –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

---

### 3. Markdown –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è üìù

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å –∫–∞–∫ plain text
- HTML —Ç–µ–≥–∏ —É–¥–∞–ª—è–ª–∏—Å—å –ø—Ä–æ—Å—Ç—ã–º regex
- –°—Å—ã–ª–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Ä—è–ª–æ—Å—å

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞–∫–µ—Ç `flutter_markdown: ^0.7.4+1`
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞–∫–µ—Ç `url_launcher: ^6.3.1` (—É–∂–µ –±—ã–ª)
- –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `_convertAniListMarkdown()` –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ AniList markup
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `MarkdownBody` –≤–º–µ—Å—Ç–æ `Text`

**–§–∞–π–ª—ã:**
- `lib/features/profile/presentation/pages/profile_page.dart`
- `pubspec.yaml`

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- ‚úÖ **–°—Å—ã–ª–∫–∏:** `<a href="url">text</a>` ‚Üí `[text](url)` (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ)
- ‚úÖ **–ü–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫:** `<br>` ‚Üí `\n`
- ‚úÖ **HTML entities:** `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, `&nbsp;`
- ‚úÖ **Markdown:** Bold, italic, —Å–ø–∏—Å–∫–∏ (–Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞)
- ‚úÖ **–°–ø–æ–π–ª–µ—Ä—ã:** `~~~text~~~` ‚Üí `||text||`

**–ö–æ–¥:**
```dart
MarkdownBody(
  data: _convertAniListMarkdown(_user!.about!),
  styleSheet: MarkdownStyleSheet(
    p: Theme.of(context).textTheme.bodyMedium,
    a: Theme.of(context).textTheme.bodyMedium?.copyWith(
      color: AppTheme.accentBlue,
      decoration: TextDecoration.underline,
    ),
  ),
  onTapLink: (text, href, title) {
    if (href != null) {
      launchUrl(Uri.parse(href));
    }
  },
),
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°—Å—ã–ª–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ –¶–≤–µ—Ç–∞ —Å—Å—ã–ª–æ–∫ (accentBlue) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–º–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```yaml
dependencies:
  flutter_markdown: ^0.7.4+1  # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Markdown
  url_launcher: ^6.3.1        # –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–æ–∫
```

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

#### –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–ø–∏—Å–∫–æ–≤ (Anime/Manga)
```dart
SliverGridDelegateWithMaxCrossAxisExtent(
  maxCrossAxisExtent: 200,    // –ú–∞–∫—Å. —à–∏—Ä–∏–Ω–∞
  childAspectRatio: 0.67,     // 460x690
  crossAxisSpacing: 12,
  mainAxisSpacing: 16,
)
```

**–†–∞—Å—á—ë—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö:**
- 1920px (Full HD): ~9 –∫–∞—Ä—Ç–æ—á–µ–∫
- 1680px: ~8 –∫–∞—Ä—Ç–æ—á–µ–∫
- 1440px: ~7 –∫–∞—Ä—Ç–æ—á–µ–∫
- 1366px: ~6 –∫–∞—Ä—Ç–æ—á–µ–∫
- 1280px: ~6 –∫–∞—Ä—Ç–æ—á–µ–∫

#### Favorites Dialog
```dart
SliverGridDelegateWithMaxCrossAxisExtent(
  maxCrossAxisExtent: 150,    // –ö–æ–º–ø–∞–∫—Ç–Ω–µ–µ
  childAspectRatio: 0.67,
  crossAxisSpacing: 12,
  mainAxisSpacing: 12,
)
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
1. –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 12 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏: `itemCount: nodes.length.clamp(0, 12)`
2. –ü–æ–ª–Ω–∞—è —Å–µ—Ç–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –¥–∏–∞–ª–æ–≥–∞ (lazy loading)
3. `CachedNetworkImage` –∫—ç—à–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å AniList

### –†–∞–∑–º–µ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫
- **AniList:** ~6 –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ —Ä—è–¥ –Ω–∞ Full HD
- **MiyoList v1.1.1:** ~6-9 –∫–∞—Ä—Ç–æ—á–µ–∫ (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ) ‚úÖ

### Favorites
- **AniList:** –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **MiyoList v1.1.1:** –î–∏–∞–ª–æ–≥ —Å —Å–µ—Ç–∫–æ–π –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚úÖ

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- **AniList:** –ü–æ–ª–Ω—ã–π Markdown + HTML
- **MiyoList v1.1.1:** Markdown + –±–∞–∑–æ–≤—ã–π HTML + —Å—Å—ã–ª–∫–∏ ‚úÖ

---

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ä–∞–∑–º–µ—Ä–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ (–º–∞–ª–µ–Ω—å–∫–∏–µ/—Å—Ä–µ–¥–Ω–∏–µ/–±–æ–ª—å—à–∏–µ)
- [ ] Lazy loading –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ (–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è)
- [ ] Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö (Windows desktop)
- [ ] –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è favorites dialog

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ YouTube embed –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ img tags –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
- [ ] Custom spoiler tag –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] Drag-to-reorder –¥–ª—è favorites

---

## Changelog

### v1.1.1 - 2025-10-10

#### Added
- ‚ú® –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ –∞–Ω–∏–º–µ/–º–∞–Ω–≥–∏
- ‚ú® –î–∏–∞–ª–æ–≥ "View All" –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (>12 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- ‚ú® –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Markdown –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
- ‚ú® –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏

#### Changed
- üîÑ GridView: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ ‚Üí –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞
- üîÑ Favorites: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º max 12 ‚Üí –∫–Ω–æ–ø–∫–∞ "View All" –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
- üîÑ About: plain text ‚Üí MarkdownBody —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—Å—ã–ª–æ–∫

#### Technical
- üì¶ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞–∫–µ—Ç `flutter_markdown ^0.7.4+1`
- üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `url_launcher ^6.3.1`
- üîß –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `_convertAniListMarkdown()` –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ markup

---

**–í–µ—Ä—Å–∏—è:** 1.1.1  
**–î–∞—Ç–∞:** 10 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
